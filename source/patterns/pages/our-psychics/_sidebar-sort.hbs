<div class="filter">
	<h4 class="filter-heading hidden-xs hidden-sm">
		<a data-toggle="collapse" class="filter-item filter-parent filter-primary filter-rounded collapsed" href="#sort-show">
			Sort	<small class="filter-summary">Available</small>
			<span class="badge filter-badge"></span>
		</a>
	</h4>
	<div class="filter-collapse collapse" id="sort-show" aria-expanded="false">
		<div class="filter">
			<label class="filter-item">
		  	<span class="filter-radio">
		    	<input type="radio" name="sort-option" value="available" checked>
		    	<span class="filter-radio-value" aria-hidden="true"></span>
		  	</span>
		 		Available
			</label>
	  </div>
	  <div class="filter">
			<label class="filter-item">
		  	<span class="filter-radio">
		    	<input type="radio" name="sort-option" value="busy">
		    	<span class="filter-radio-value" aria-hidden="true"></span>
		  	</span>
		 		Busy
			</label>
	  </div>
	  <div class="filter">
			<label class="filter-item">
		  	<span class="filter-radio">
		    	<input type="radio" name="sort-option" value="rating">
		    	<span class="filter-radio-value" aria-hidden="true"></span>
		  	</span>
		  	Star Rating
			</label>
	  </div>
	  <div class="filter">
			<label class="filter-item">
		  	<span class="filter-radio">
		    	<input type="radio" name="sort-option" value="alpha">
		    	<span class="filter-radio-value" aria-hidden="true"></span>
		  	</span>
		  	Alphabetical
			</label>
	  </div>
	  <div class="filter">
			<label class="filter-item">
		  	<span class="filter-radio">
		    	<input type="radio" name="sort-option" value="new">
		    	<span class="filter-radio-value" aria-hidden="true"></span>
		  	</span>
		  	New (Save 25%!)
			</label>
	  </div>
	  <div class="filter">
			<label class="filter-item">
		  	<span class="filter-radio">
		    	<input type="radio" name="sort-option" value="highest-price">
		    	<span class="filter-radio-value" aria-hidden="true"></span>
		  	</span>
		   	Highest Price
			</label>
	  </div>
	  <div class="filter">
			<label class="filter-item">
		  	<span class="filter-radio">
		    	<input type="radio" name="sort-option" value="lowest-price">
		    	<span class="filter-radio-value" aria-hidden="true"></span>
		  	</span>
		  	Lowest Price
			</label>
	  </div>
	</div>
</div>

<script>

/**
 * TODO: This needs some TLC from a good JS developer, probably after (or in
 * conjunction with) improvement of the existing filter-menu plugin
 * (see issue #94)
 */

$(function(){

	// close prairie dog dialog on radio change
	$('#sort-show .filter-item input').on('change', function () {
		$(this).closest('.prairie-dog-dialog').prairieDog('hide');
	});

	// control expand/collapse for different browser sizes
	function manageSortCollapseState () {
		// if the filter menu is not immediately visible...
		if (!$('#sort-show').closest('.filter').is(':visible')) {
			// ...assume it is hidden for mobile and expand it ahead of time
			$('#sort-show').collapse('show');
		}
	};
	$(window).on('resize', manageSortCollapseState);
	manageSortCollapseState();
	
});

</script>
